var mask = 'YY / MM / DD';
var separator = ' / ';
var regex = /^(\d{1,2})([\s|\/]{1,3})?(\d{1,2})?([\s|\/]{1,3})?(\d{1,2})?/;
export var applyBirthdateMask = function (inputText) {
    var text = inputText;
    if (text.length > mask.length) {
        return undefined;
    }
    var parts = text.match(regex);
    if (parts === null) {
        return '';
    }
    var year = parts[1] !== undefined ? parts[1] : '';
    var month = parts[3] !== undefined ? parts[3] : '';
    var day = parts[5] !== undefined ? parts[5] : '';
    var response = year;
    if (parseInt(year, 10) < 0) {
        year = '';
    }
    if (parseInt(month, 10) > 1 && month.length === 1) {
        month = "0" + month;
    }
    if (parseInt(month, 10) > 12 || parseInt(month, 10) < 0) {
        month = '';
    }
    if (parseInt(month, 10) === 0 && month.length === 2) {
        month = '0';
    }
    if (parseInt(day, 10) > 3 && day.length === 1) {
        day = "0" + day;
    }
    if (parseInt(day, 10) > 31 || parseInt(day, 10) < 0) {
        day = '';
    }
    if (year.length === 2) {
        response += separator + month;
    }
    if (month.length === 2) {
        response += separator + day;
    }
    return response;
};
export var handleBirthdateBackspace = function (inputText) {
    var text = inputText;
    if (text.length === 1) {
        text = '';
    }
    while (text.length > 2 &&
        separator.split('').indexOf(text[text.length - 1]) !== -1) {
        text = text.substring(0, text.length - 1);
    }
    return text;
};
export var validateBirthdateMask = function (inputText, errorMessage) {
    if (regex.test(inputText) && inputText.length === mask.length) {
        return '';
    }
    return errorMessage;
};

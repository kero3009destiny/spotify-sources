import { globalTracer, FORMAT_TEXT_MAP } from 'opentracing';
export function extractFromRequest(req, tracer = globalTracer()) {
    var _a, _b;
    const header = (_b = (_a = req.headers['x-cloud-trace-context']) !== null && _a !== void 0 ? _a : req.headers['X-Cloud-Trace-Context']) !== null && _b !== void 0 ? _b : '';
    const carrier = {
        'X-Cloud-Trace-Context': header,
    };
    const ctx = tracer.extract(FORMAT_TEXT_MAP, carrier);
    return ctx;
}
export function extractFromHeaders(headers, tracer = globalTracer()) {
    var _a, _b;
    const header = (_b = (_a = headers.get('x-cloud-trace-context')) !== null && _a !== void 0 ? _a : headers.get('X-Cloud-Trace-Context')) !== null && _b !== void 0 ? _b : '';
    const carrier = {
        'X-Cloud-Trace-Context': header,
    };
    const ctx = tracer.extract(FORMAT_TEXT_MAP, carrier);
    return ctx;
}
//# sourceMappingURL=extract.js.map
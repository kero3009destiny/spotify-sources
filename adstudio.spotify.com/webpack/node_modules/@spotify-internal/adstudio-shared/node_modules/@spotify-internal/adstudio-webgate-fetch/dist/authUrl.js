"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getAuthUrl = getAuthUrl;
exports.setAuthUrl = setAuthUrl;

var _debug = _interopRequireDefault(require("debug"));

var _globalCache = _interopRequireDefault(require("global-cache"));

var _constants = require("./constants");

var log = (0, _debug["default"])('webgate:authUrl');

function getAuthUrl() {
  log('getting auth url from storage');

  var authUrl = _globalCache["default"].get(_constants.AUTH_URL_STORAGE_KEY);

  if (!authUrl) {
    throw new Error("\n      A URL to fetch Webgate tokens must be provided. be sure to call\n      setAuthUrl('https://url-here') before using webgateFetch.\n    ");
  }

  return authUrl;
}

function setAuthUrl(newAuthUrl) {
  log('setting new auth url in storage: %s', newAuthUrl);
  return _globalCache["default"].set(_constants.AUTH_URL_STORAGE_KEY, newAuthUrl);
}
//# sourceMappingURL=authUrl.js.map
'use strict';

var LabelString = {
  EMPTY: '-no-robustness',
  SW_CRYPTO: '-sw-crypto',
  SW_DECODE: '-sw-decode',
  HW_CRYPTO: '-hw-crypto',
  HW_DECODE: '-hw-decode',
  HW_ALL: '-hw-all'
};

function createConfigFilter(disabledConfigs) {
  var filters = [
    // This is a default value that we add so that in the event that there are
    // no disabled configs, none of the configs will be able to match this one.
    '--ensure-no-match--'
  ];
  if (disabledConfigs && disabledConfigs.length) {
    var len = disabledConfigs.length;
    while (len--) {
      if (!LabelString.hasOwnProperty(disabledConfigs[len])) {
        continue;
      }
      filters.push(LabelString[disabledConfigs[len]]);
    }
  }
  return new RegExp('(' + filters.join('|') + ')$');
}

module.exports = createConfigFilter;

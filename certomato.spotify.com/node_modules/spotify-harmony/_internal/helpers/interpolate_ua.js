'use strict';

var parseUA = require('./parse_ua');

/**
 * Interpolates the provided string with data from the user agent.
 *
 * @param {string} template The template to interpolate.
 * @return {string} The interpolated string.
 */
module.exports = function(template) {
  if (!template) {
    return template;
  }

  var navigatorInfo = parseUA(
    global.navigator.userAgent,
    global.navigator.platform
  );
  return template.replace(/\{\{([^}]+?)\}\}/g, function(match, key) {
    if (key in navigatorInfo) {
      return navigatorInfo[key];
    }
    return '';
  });
};
